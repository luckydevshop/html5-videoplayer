/*!
 * html5-videoplayer 
 * version: 0.1.0 
 * build date: 2014-02-28 
 */

"use strict";var video=document.querySelector(".video-player"),videoControls=document.querySelector(".controls"),play=document.querySelector(".action"),playTime=document.querySelector(".play-time"),totalTime=document.querySelector(".total-time"),playProgressBar=document.querySelector(".progress"),fullscreen=document.querySelector(".fullscreen"),VideoPlayer;VideoPlayer={playProgressInterval:void 0,init:function(){video.removeAttribute("controls"),video.readyState>0?VideoPlayer.initializeControls():video.addEventListener("loadedmetadata",VideoPlayer.initializeControls,!1),VideoPlayer.handleButtonPresses()},initializeControls:function(){totalTime.innerHTML=VideoPlayer.convertTime(video.duration),VideoPlayer.showHideControls()},showHideControls:function(){video.addEventListener&&videoControls.addEventListener?(video.addEventListener("mouseover",VideoPlayer.showControls,!1),video.addEventListener("mouseout",VideoPlayer.hideControls,!1),videoControls.addEventListener("mouseover",VideoPlayer.showControls,!1),videoControls.addEventListener("mouseout",VideoPlayer.hideControls,!1)):(video.attachEvent("onmouseover",VideoPlayer.showControls,!1),video.attachEvent("onmouseout",VideoPlayer.hideControls,!1),videoControls.attachEvent("onmouseover",VideoPlayer.showControls,!1),videoControls.attachEvent("onmouseout",VideoPlayer.hideControls,!1))},showControls:function(){videoControls.classList.remove("hidden"),videoControls.style.zIndex=2},hideControls:function(){videoControls.classList.add("hidden"),videoControls.style.zIndex=-1},handleButtonPresses:function(){video.addEventListener("click",VideoPlayer.playORpause,!1),play.addEventListener("click",VideoPlayer.playORpause,!1),fullscreen.addEventListener("click",VideoPlayer.fullScreen,!1),[].forEach.call(document.querySelectorAll(".volume-mark"),function(a){a.addEventListener("click",VideoPlayer.adjustVolume,!1)}),video.addEventListener("play",function(){play.innerHTML="||",VideoPlayer.trackPlayProgress()},!1),video.addEventListener("pause",function(){play.innerHTML="&gt;",VideoPlayer.stopTrackingPlayProgress()},!1),video.addEventListener("ended",function(){this.currentTime=0,this.pause()},!1)},playORpause:function(){video.paused||video.ended?(video.ended&&(video.currentTime=0),video.play()):video.pause()},adjustVolume:function(a){var b=a.target.getAttribute("data-level");"master-volume"===b?video.volume=video.volume>0?0:1:(b=parseInt(b,10),isNaN(b)?console.log("NaN, not changing level"):video.volume=1===b?1:.1*b)},trackPlayProgress:function(){!function a(){VideoPlayer.updatePlayProgress(),VideoPlayer.playProgressInterval=setTimeout(a,500)}()},updatePlayProgress:function(){var a=parseInt(video.currentTime/video.duration*100,10);playTime.innerHTML=VideoPlayer.convertTime(video.currentTime),playProgressBar.setAttribute("value",a)},stopTrackingPlayProgress:function(){clearTimeout(VideoPlayer.playProgressInterval)},fullScreen:function(){document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled?fullscreen.classList.contains("active")?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),fullscreen.classList.remove("active")):(video.requestFullscreen?video.requestFullscreen():video.webkitRequestFullscreen?video.webkitRequestFullscreen():video.mozRequestFullScreen?video.mozRequestFullScreen():video.msRequestFullscreen&&video.msRequestFullscreen(),fullscreen.classList.add("active")):fullscreen.classList.add("error")},convertTime:function(a){var b,c=parseInt(a/60,10),d=parseInt(a%60,10);return 10>d&&(d="0"+d),b=c+":"+d}},function(){VideoPlayer.init()}();
//# sourceMappingURL=video-player.min.map